За сваки интервал, проласком од левог до десног краја, можемо наћи број различитих бројева које садржи тако што ћемо бројати само првo појављивањe сваког броја. Како ћемо знати да је неко појављивање прво? Знамо да је низ сортиран, па важи да је појављивање броја прво ако је тај број или први број унутар интервала, или је број различит од свог претходника (броја лево од њега). Временска сложеност по упиту је $О(N)$, па је сложеност овог решења $О(N\cdot Q)$. Меморијска сложеност је $О(N)$. Ово решење доноси $30$ поена.

Нека је $cnt[k][i]$ број појављивања броја $k$ у низу на позицијама од $1$ до $i$. Важи следеће:
$$ 
cnt[k][i] = cnt[k][i–1], \text{ако је } niz[i] \neq k
$$
$$
cnt[k][i] = cnt[k][i–1] + 1, \text{ако је } niz[i] = K
$$
Користећи ово, cnt можемо одредити у сложености $О(max\_num\cdot N)$ где је $max\_num$ највећи број у низу. За сваки интервал можемо у сложености $О(1)$ да одредимо да ли се број $K$ појављује унутар интервала тако што је број појављивања броја $k$ унутар $[l, r]$ једнак $cnt[k][r] – cnt[k][l–1]$. Сада на сваки упит можемо одговорити проласком од $1$ до $max\_num$ и провером за сваки број да ли се појављује унутар интервала из упита. Временска сложеност овог решења је $О(Q\cdot max\_num + N\cdot max\_num)$, а меморијска $О(N\cdot max\_num)$. Ово решење такође вреди $30$ поена, али може се применити у комбинацији са претходним решењем тако што уколико је $max\_num \leq 500$ радимо у сложености $О(Q\leq max\_num + N\leq max\_num)$, а иначе у сложености $О(N\cdot Q)$, и оваква комбинација вреди $60$ поена.

Анализирајмо сада решење за $100$ поена. Посматрајмо само прво појављивање сваког броја у низу. Нека је $dp[i]$ број ових првих појављивања у низу на позицијама од $1$ до $i$. Број различитих бројева на интервалу једнак је броју првих појављивања на интервалу. Већ смо рекли да је појављивање броја прво ако је тај број или први број унутар интервала, или је број различит од свог претходника. Број оних који су различити од свог претходника на интервалу $[l, r]$ једнак је $dp[r] – dp[l-1]$. Међутим, у случају да је $niz[l] = niz[l-1]$, тада решење треба увећати за $1$ јер нисмо рачунали број са индексом $l$ јер је он једнак свом претходнику, а треба га рачунати зато што је први број унутар интервала. Дакле, решење за интервал $[l, r]$ је:
$$
dp[r] – dp[l-1], \text{ако је } niz[l] \neq niz[l-1]
$$
$$
dp[r] – dp[l-1] + 1, \text{ако је } niz[l] = niz[l-1]
$$
Низ $dp$ креирамо у сложености $О(N)$, и када имамо тај низ, на упите одговарамо у $О(1)$. Временска сложеност овог решења је $О(N + Q)$, а меморијска $О(N)$.