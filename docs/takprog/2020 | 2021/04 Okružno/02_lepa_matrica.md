# Анализа

Врсте са редним бројевима $i$ и $i+1$ ћемо назвати **суседним врстама**. Осим тога ћемо и врсте са редним бројевима $N$ и $1$ (претпоставимо да су врсте нумерисане бројевима од 1 до $N$) сматрати суседним. Слично ћемо колоне са редним бројевима $j$ и $j+1$ сматрати **суседним колонама**, а исто тако колоне са редним бројевима $M$ и $1$ ћемо сматрати суседним. Такође ћемо рећи да су елементи $А[i][j]$ $A[i+1][j]$  **одговарајући елементи** у суседним врстама. Слично ћемо елементе $А[i][j]$ $A[i][j+1]$  сматрати **одговарајућим елементима** у суседним колонама.

Под овим претпоставкама, **лепота матрице** се може одредити тако што се од збирова апсолутних вредности разлика одговарајућих елмената у сусеним врстама и одговарајућих елемената  у суседним колонама одузму апсолутне разлике одговарајућих елемената у последњој и првој врсти и апсолутне разлике  одговарајућих елемената у последњој и првој колони. Када се матрица ротира за $j$ колона улево, онда колоне $j$ и $j+1$ постају последња и прва колона (изузетно, ако се ротира за нула колона, онда су колоне $1$ и $M$, прва и последња колона). Слично, када се матрица ротира за $i$ врста на горе, врсте $i$ и $i+1$ постају последња и прва врста (изузетно, ако се ротира за нула врста, онда су врсте $1$ и $N$, прва и последња врста).

Нека је $S$ сума свих апсолутних разлика одговарајућих елемената у суседним врстама и свих апсолуних разлика одговарајућих елемената у суседним колонама.  Означимо са $SR[i]$ суму апсолутних разлика одговарајућих елемената у врстама $i$ и $i+1$, а са $SC[j]$ суму апсолутних разлика одговарајућих елемената у колонама $j$ и $j+1$. 

Тада се лепота матрице која се добија након ротације за $j$ колона улево и ротације ѕа $i$ врста на горе добија тако што се од $S$ одузме $SR[i]$ и $SC[j]$. Лепота матрице је највећа ако се одузимају  суме апсолутних разлика одговарајућих елемената суседних врста и суседних колона за које су те суме најмање. Због тога је потребно одредити индексе $i$ и $j$, ѕа које су $SR[i]$ и $SC[j]$ најмањи и те две суме одузети од $S$.

Лако се утврђује да је сложеност описаног алгоритма $N\cdot M$.


