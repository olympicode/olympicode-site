# Предузеће

Аутор: Игор Павловић
Текст и тест примери: Игор Павловић
Анализа решења: Игор Павловић
Тестирање: Алекса Милојевић

# Подзадатак 1

У овом подазадатку можемо искористити чињеницу да важи $k_{i+1}=2*k_{i}-k_{i-1}-a_{i}$ (осим ѕа ѕапослене 1 и $n$ који имају само једног суседа). Дакле да бисмо нашли компетентност $i+1$-ог запосленог довољно је да нађемо компетентност првих $i$ запослених. Почев од $k_{1}=0$ можемо рекоструисати читав низ. Након тога је потребно проверити да ли добијени низ задовољава свих $n$ једначина и исписати -1 уколико оне нису задовољене.

# Подзадатак 2

У овом подзадатку треба приметити да нам је довољно само да контруишемо низ разлика компетентости суседних запослених. На осонову тих разлика и услова $k_{1}=0$ можемо рекоструисати тражени низ. Посматрајмо допринос неког пара запослених $x$ и $y$ као проток интензитета $k_{x}-k_{y}$ који тече од запосленог $x$ ка запосленом $y$. Ако замислимо да у сваког запосленог $x$ улази неки проток интензитета $a_{x}$ са стране можемо обезбедити да је укупан проток сваког запосленог нула.

Вредности свих протока можемо одредити тако што из сваког запосленог пустимо да тече проток интензитета $a_{x}$ од њега па све до шефа. Проток кроз неки пар суседних запослених је укупан проток који прелази преко те гране на крају. Приметимо такође да је укупан проток кроз запосленог 1 једнак збиру доприноса свих запослених. На основу тога се може показати да решење постоји ако и само ако је збир свих доприноса нула. Пошто је удаљеност сваког запосленог од шефа у овом подзадатку највише $log(N)$ укупна сложеност је $O(N*log(N))$.

# Подзадатак 3

У овом подзадатку можемо применити исти алгоритам као за прошли подзадатак. У овом подзадатку сложеност таквог алгоритма је $O(N^2)$.

# Подзадатак 4

За максималан број поена потребно је рекоструисати низ разлика компетентности суседних запослених у линеарној сложености. Ово можемо урадити тако што за сваког запосленог запамтимо оне запослене којима је он надрећен и тражени низ разлика рекоструишемо са десна на лево.
Ако разлику запосленог $i$ означимо са $r_{i}=k_{i}-k_{h_i}$ можемо приметити да важи $r_{i}=a_{i}-s$ где је $s$ сума разлика свих запослених којима је он надређен. Пошто се његови подређени налазе после њега у низу можемо сматрати да су њихове разлике већ израчунате (јер разлике рачунамо са десна на лево) па је могуће одредити $r_{i}$. Приметимо да је сваки запослени подређен највише једном запосленом па је укупна сложеност овог алгоритма $O(N)$.
