Мало ко зна да су Никола Тесла и Алберт Ајнштајн били јако добри пријатељи. Сваке недеље је један од њих постављао загонетке другоме. Овога пута је дошао ред на Алберта да постави загонетку. Он је задао загонетку у облику игре.

Да би се играла игра потребна је табла на којој се налази $N$ поља која су нумерисана бројевима од 1 до $N$ . Та поља су повезана уз помоћ $M$ путева, где сваки пут повезује нека два поља. Табла је таква да је могуће кренути из било ког чвора и користећи дате путеве доћи до било ког другог чвора. На почетку игре, свака од $K$ фигурица (означене бројевима од 1 до $K$) се постави на њено почетно поље и такође се за сваку од тих фигурица обележи и крајње поље, тј. поље где та фигурица мора да се нађе на крају игре.

У једном потезу, Тесла мора да помери сваку фигурицу са поља где се та фигурица налази на неко суседно поље. Два поља су суседна уколико међу датих $M$ путева, постоји пут који спаја та два поља. На једном пољу у исто време може да се налази више фигурица. Поента игре је да се све фигурице у исто време нађу на њиховим крајњим позицијама. Приметимо да уколико је нека фигурица пре краја на својој крајњој позицији, она у следећем потезу мора да се помери са те позиције.

Добро је познато да су њих двојица рачунали дане другачије него што смо навикли, њихових недељу дана је трајало $D$ дана, уместо нама добро познатих 7.

Први дан у њиховој недељи, Алберт је послао поставку игре Тесли, тј. таблу и обележена почетна и крајња поља за сваку фигурицу. Поставио му је услов да сваки дан мора да одигра тачно један потез и тражио је од њега да му каже за сваки дан у њиховој недељи који је најмањи број потеза (дана) које Тесла мора да одигра како би све фигурице биле на својим крајњим позицијама баш на тај дан у недељи.

Добили сте поставку игре и знате да је Тесла успешно дао одговор за сваки дан у њиховој недељи. Ваш задатак је да откријете које је одговоре Тесла послао Ајнштајну.

  

## Описи функција

Потребно је имплементирати функцију
$$Igra(N,M,K,D,U[...],V[...],S[...],F[...],R[...])$$
где је:

*  $N$ – број поља на табли
    
*  $M$ – број путева између поља
    
*  $K$ – број фигурица на табли
    
*  $D$ – број дана у Албертовој и Николиној недељи
    
*   $U$ и $V$ – низови дужине $M$, где знамо да су поља означена бројевима $U_i$ и $V_i$ повезана путем на табли
    
* $S$ и $F$ – низови дужине $K$, где $i$-ти елементи низа означавају редни број почетног и крајњег поља за $i$-ту фигурицу, редом.
    

Функцији се такође прослеђује и параметар $R$ који представља низ дужине $D$, кроз који треба да вратите ваше решење. По завршетку функције, i-ти елемент низа $R$ треба да има вредност минималног броја дана (потеза) тако да све фигурице буду на својим крајњим позицијама на дан i у недељи. Уколико за неки дан у недељи није могуће да се све фигурице нађу на истом месту, решење за тај дан треба да буде -1.

Сви низови су индексирани од 0, што значи да је први елемент низова онај са индексом 0. Водити рачуна да пошто су сви низови индексирани од 0, $R_0$ треба да представља решење за дан 1, $R_1$ за дан 2, итд...

  

## Пример:

Нека постоји $N=6$ поља, повезана уз помоћ $M=7$ путева који су описани уз помоћ низова $U=\{1,1,2,3,4,4,5\}$ и $V=\{2,3,4,4,5,6,6]}$. Нека постоји $K=2$ фигурице где су почетне и крајње позиције дате уз помоћ низова $S=\{1,4\}$ и $F=\{2,5\}$, и нека недеља траје $D=3$ дана. На слици испод можете видети приказ такве табле.

  
![](https://lh7-us.googleusercontent.com/UAwpuOW9W5lZcVD05vSQf1BXL6wB1TL-hLZni_sDxHGajIAZOYB6IyRxEY7Z725QgkMj-I8M9cCEi_FBGMI5oLb20IOXyznlFgYTJjAm2BlxkbQJbgNdUwrrTOi4KXs7Me1Eg5m3G7F7up2ilRuq2g)

Прва фигурица почиње на пољу 1 и треба да заврши на пољу 2, док друга фигурица почиње на пољу 4 и треба да заврши на пољу 5.

Недеља има 3 дана и за сваки од тих дана треба да испишемо најмањи број потеза да би обе фигурице биле на крајњим позицијима баш на тај дан у недељи.

-   Дан 1 - најмањи број потеза је 3. Једно могуће решење је да прва фигурица прави шетњу: поље 1 (дан 1) поље 3 (дан 2) поље 4 (дан 3) поље 2 (дан 1), док друга прави шетњу: поље 4 (дан 1) поље 6 (дан 2) поље 4 (дан 3) поље 5 (дан 1).
    
-   Дан 2 - најмањи број потеза је 1. Једно могуће решење је да прва фигурица прави шетњу: поље 1 (дан 1) поље 2 (дан 2), док друга прави шетњу: поље 4 (дан 1) поље 5 (дан 2).
    
-   Дан 3 - најмањи број потеза је 5. Једно могуће решење је да прва фигурица прави шетњу: поље 1 (дан 1) поље 3 (дан 2) поље 4 (дан 3) поље 3 (дан 1) поље 4 (дан 2) поље 2 (дан 3), а друга шетњу: поље 4 (дан 1) поље 6 (дан 2) поље 4 (дан 3) поље 6 (дан 1) поље 4 (дан 2) поље 5 (дан 3).
    

  

## Ограничења

-   $1≤N≤1000$
-   $1≤M100.000$
-   $1≤K≤100$
-   $1≤D≤1000$
-   $1≤U_i,V_i \leq N$, za svako $0≤i \leq M$
-   $1≤S_i,F_i \leq N$, za svako $0≤i \leq K$
    

## Подзадаци и бодовање

-   ПОДЗАДАТАК 1 [10 ПОЕНА]: Између свака два поља на табли постојаће тачно један пут (дато је стабло) и важи $K=1$.
    
-   ПОДЗАДАТАК 2 [15 ПОЕНА]: Између свака два поља на табли постојаће тачно један пут (дато је стабло).
    
-   ПОДЗАДАТАК 3 [25 ПОЕНА]: $D≤10,K≤10$ и $D$ је паран број.
    
-   ПОДЗАДАТАК 4 [10 ПОЕНА]: $D≤10,K≤10$
    
-   ПОДЗАДАТАК 5 [40 ПОЕНА]: Нема додатних ограничења
    

  

## Детаљи имплементације

Потребно је да пошаљете тачно један фајл, под називом igra.c, igra.cpp или igra.pas, који имплементира горе поменуту функцију. Осим тражене функције, ваш фајл може садржати и додатне глобалне променљиве, помоћне функције и додатне библиотеке.

Зависно од програмског језика који користите, ваша функција/процедура мора бити следећег облика:

C/C++
void Igra(int N, int M, int K, int D, int* U, int* V, int* S, int* F, int* R);

Pascal
procedure Igra(N, M, K, D : longint; var U, V, S, F, R : array of longint);

  
Уколико радите у C/C++ -у, потребно је на почетку фајла ставити #include “igra.h” а уколико радите у Pascal-у, потребно је на почетку фајла ставити Unit igra; (ово је већ додато у фајловима који су вам обезбеђени).

  

## Тестирање и експериментисање

Уз задатак, обезбеђени су вам “template” фајлови (igra.c, igra.cpp, igra.pas) које можете користити и мењати по потреби. Такође су вам обезбеђени програми (grader.c, grader.cpp, grader.pas) који служе да лакше тестирате кодове. Ови програми учитавају са стандардног улаза следеће податке:

1.  У првом реду бројеве $N,M,K$  и $D$.
    
2.  У следећих $M$ редова бројеве $U_i$ и $V_i$, редом, раздвојене размаком
    
3.  У наредних $K$ редова бројеве $S_i$ и $F_i$, редом, раздвојене размаком
    

а затим позивају вашу функцију Igra из одговарајућег фајла (igra.c, igra.cpp, igra.pas) са учитаним параметрима и на крају вредност коју ваша функција враћа исписују на стандардни излаз. Kодове ових програма можете мењати по потреби.
