
Још у 1984. години (када Интернет каквим га данас знамо није ни постојао), Грамп (F.T. Grampp) и Морис (R.H. Morris) су дали чувени цитат: “Лако је имати безбедан рачунарски систем. Само треба пресећи све везе са другим рачунарима, дозволити само директне жичане терминале између рачунара, ставити машине у забрављену собу, и поставити чувара испред врата.''

Вођени тим цитатом, челници Уједињених Комисијских Држава су до 2061. године учинили да све везе које повезују спољни свет са њиховим машинама не могу да шаљу више од тридесет 64-битних целих бројева одједном, уз оглашавање опште узбуне уколико се пошаље више таквих пакета. Међутим, и поред тога су чувени хакери Перица и Давис успели да координираним нападом запоседну две државне машине.

Перица је успео да, на машини коју је запосео, добије приступ неким сликама (величине 100 x 100, само у нијансама сиве - вредност сваког пиксела је цео број између 0 и 255) које би могле да крију скривене шифре за лансирање нуклеарних ракета у себи. Желео би да пошаље слике Давису, међутим због ограничења преносних канала, може послати само тридесет 64-битних целих бројева-тако да су могући губици при слању. Замолио вас је за помоћ.

## Описи функција

Потребно је да имплементирате две функције:

Encode(In[...][...], Code[...]),

која претвара улазну слику (представљену као 100 x 100 матрицу 8-битних целих бројева) у низ од тридесет 64-битних целих бројева;

Decode(Code[...], Out[...][...]),

која на основу израчунатог низа треба да, што прецизније, реконструише оригиналну слику.

Једини начин на који ове две функције могу разменити информације је низ  Code!

При попуњавању, низ  Code  и матрицу  Out  индексирајте од 0!

## Ограничења

-   Све слике ће бити представљене као 100 x 100 матрице 8-битних вредности ([0, 255]);
    
-   Дужина кода је ограничена на тридесет 64-битних целих бројева.
    

## Подзадаци и бодовање

Тест примери су подељени у 4 подзадатка од по 25 поена, који представљају различите врсте слика. За сваку слику, укупна грешка се рачуна као сума квадратних одступања улазне од излазне слике на свакој позицији:

$$err=\sum\limits_{i=0}^{99}\sum\limits_{j=0}^{99}(In[i][j]-Out[i][j])^2$$

За сваку слику дефинисане су константе $A$ и $B$ тако да:

-   Уколико важи $err≤A$, освајате 25 поена за ту слику;
    
-   Уколико важи $err≥B$, освајате 0 поена за ту слику;
    
-   Иначе, освајате $25×(\frac{B - err}{B-A})$ поена за ту слику.
    

Број освојених поена на једном подзадатку је минималан број поена освојених на свим сликама унутар тог подзадатка.

## Тренинг подаци

Унутар сваког подзадатка, генерисано је осам слика на сличан начин. Од тог броја, три слике су насумично одабране и директно су вам доступне у архиви приложеној уз задатак. Преосталих пет слика ће бити коришћене за тестирање унутар сваког подзадатка. Слике су дате у два формата: у Bitmap формату (са екстензијом .bmp), као и текстуални фајл (са екстензијом .in) који у себи садржи одговарајућу 100 x 100 матрицу вредности пиксела. На слици испод се налази, за сваки подзадатак, по један пример од три која су вам дата у архиви.

## ![](https://lh7-us.googleusercontent.com/ifkmFfDzE5-9MGQ6YvHfNXgDcU5DTYTiwDgBs47P5SyCur9mcYklJgY3xjukqgoAITwVzkIqqksFDCh6ihe9m8XGOr1eSW3RvPZv06eRnXuItcuhuXslsxdH9XKe0Wapgu4YCAodlQk6vgWXI3EjRg)

## ![](https://lh7-us.googleusercontent.com/wjG_gpBtYUvAacIArNjZgrt8Z45UxgKx5L6-npgxwf60bYv5Y5JIADgpBrmZLTYi6-5oGNLpNYlmswuQ9XK-9wpdaqxhGNDbMamsMSBlFawS7ShrSwpeMdde591vUnhUGzC25J4R6kaeYuox6zbUkg)

## ![](https://lh7-us.googleusercontent.com/wZHGQay0u6WcALSKEP8SQM0Gvf2zCzNFgUwlSeGbwBLS2p1hEe3bX98q-mx7r5P1IAlCEnqy5cIaRQiT1li7nzHSwTtE6hFHS-n97UkuuOVb-Z_vSf4doNVm230VoBnpuJkb2_uzcs11i-Wco-3G9A)

## ![](https://lh7-us.googleusercontent.com/oteD5sleSfWal-rXy1eLOJhcGj6_dHFreHtMLix5JFLbW7s-O_mHMz4lhD2YlIwr-6eqowgaMWsteq9bn5mSxlM7lFM5YP0pP1g1IjgdUH3AEzdDEHLoCgo9iEUHTGSBrwhvuRlv0W8x3kz1p2-1Wg)

## Детаљи имплементације

Потребно је да пошаљете тачно два фајла, под називима [zipv_encode.c; zipv_decode.c], [zipv_encode.cpp; zipv_decode.cpp] или [zipv_encode.pas; zipv_decode.pas], који имплементирају две горепоменуте функције. Осим тражених функција, ваши фајлови могу садржати и додатне глобалне променљиве, помоћне функције и додатне библиотеке. Међутим, имајте на уму да ће функције Encode и Decode да се позивају у одвојеним програмима, тако да нећете моћи да сачувате икакву глобалну променљиву која није константна између позива ове две функције!

Зависно од програмског језика који користите, ваше функције/процедуре морају бити следећег облика:

C/C++

void Encode(unsigned char **data_in, long long *code);

void Decode(long long *code, unsigned char **data_out)

Pascal

type matrix = array[0..99] of array[0..99] of byte;

procedure Encode(var data_in : matrix; var code : array of int64)

procedure Decode(var code : array of int64; var data_out : matrix)

Уколико радите у C/C++ -у, потребно је на почетку фајлова ставити #include "zipv_encode.h", односно #include "zipv_decode.h", а уколико радите у Pascal -у, потребно је на почетку фајла ставити Unit zipv_encode;, односно Unit zipv_decode;  (ово је већ додато у фајловима који су вам обезбеђени).

## Тестирање и експериментисање

Уз задатак, обезбеђени су вам “template'' фајлови (zipv_encode.c, zipv_decode.c, zipv_encode.cpp, zipv_decode.cpp, zipv_encode.pas, zipv_decode.pas) које можете користити и мењати по потреби. Такође су вам обезбеђени програми (manager.c, manager.cpp, manager.pas) који служе да лакше тестирате кодове. Ови програми учитавају са стандардног улаза матрицу од 100 x 100 8-битних целих бројева (између 0 и 255). Затим позивају функцију Encode над том матрицом, а након тога позивају функцију Decode над добијеним низом, и коначно исписују на стандардни излаз добијену матрицу.
