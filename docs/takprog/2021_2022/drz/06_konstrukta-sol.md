
Задатак можемо моделовати као неусмерено стабло, где чворови представљају државе, док гране представљају аутобуске линије.

## Први подзадатак:

Увек можемо постићи да најудаљенији чвор буде на удаљености $D = \frac{N}{4} + 1$. Ако чворове на путу индексирамо са $x_1, x_2, \dots, x_N$ поставићемо грану између чворова $x_{D + 1}$ и x_{N - D + 1} и Евровизију ћемо одржати у првом од њих. Лако се може показати да не можемо постићи боље решење за граф који је пут. Потребно је бити пажљив за путеве дужине $4$ и $5$.

## Други подзадатак:

Фиксираћемо чворове између којих ћемо додати грану ($O(N^2)$ могућности) и фиксираћемо чвор у коме ће бити одржана Евровизија ($O(N)$ могућности). Потребно је наћи најкраћи пут од чвора у коме ће бити одржана Евровизија до осталих чворова, што можемо урадити алгоритмом претраге у ширину (БФС). Можемо искористити и одређене модификације претраге у дубину (ДФС), пошто граф садржи тачно један циклус. Временска сложеност овог алгоритма износи $O(N^4)$, док меморијска износи $O(N)$ или $O(N^2)$ зависно од репрезентације графа.

## Трећи подзатак:

**Обзервација 1**: Евровизију увек треба одржати у једном од крајева гране којe додајемо. Ово не повлачи да у неким другим чворовима не можемо одржати Евровизију, већ да је један од крајева гране увек међу оптималним изборима. Приметимо да специјалан случај представљају графови који имају дијаметар (најдужи пут) дужине 2, у том случају додавање нове гране не побољшава решење.

Ово нам пружа подлогу за алгоритам временске сложености $O(N^3)$, пошто за фиксну грану треба да проверимо само две могућности за место одржавања Евровизије. У случају да је дијаметар дужине $2$, можемо исписати било коју грану. 

## Комплетно решење:

**Обзервација 2**: Грана коју додајемо увек ће повезивати два чвора на дијаметру стабла (ако имамо више дијаметара, можемо изабрати произвољан).

Нека низ чворова $x_1, x_2, \dots, x_d$ представља дијаметар стабла. Приметимо да је максимална удаљеност неког од чворова бинарно претражива и да не може износити више од $\frac{d}{2}$ (ако се Евровизија одржава у чвору $x_{\frac{d + 1}{2}}$). Претпоставимо да тренутно проверавамо у бинарној претрази да ли може максимална удаљеност бити мања или једнака од $c$. У том случају оптимално је поставити грану између чворова $x_{c + 1}$ и $x_{d - c + 1} и одржати Евровизију у првом од њих или између чворова $x_c$ и $x_{d - c}$ и одржати Евровизију у другом од њих. Када знамо између која два чвора ћемо поставити грану и да један од њих мора бити место одржавања Евровизије, остало је само проверити да ли неки од њих задовољава услов да након постављања гране сви остали чворови буду удаљени не више од $c$. То можемо поново урадити неким од алгоритама за проналазак најкраћег пута у графу. Укупна временска сложеност $O(N log N)$ и меморијска $O(N)$.

Бонус: Решите задатак у временској сложености $О(N)$.
