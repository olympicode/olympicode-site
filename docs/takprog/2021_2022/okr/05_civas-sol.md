## Решење када $N, Q \leq 500$
За сваку промену низа, израчунамо низ $b$ и на њему пробамо сваку могућу периоду, од којих узимамо најмању. 

Временска сложеност је $O(QN^2)$,  а меморијска сложеност $O(N)$.  

## Решење када $Q \leq 25$
Приметимо да су једине могуће периоде делиоци броја $N$. Сада примењујемо претходно решење, само што испробавамо само те делиоце.

Временска сложеност је $О(QNd(N))$, где је $d(N)$ број делиоца $N$, а меморијска сложеност $O(N)$.

## Решење када $Q \leq 3000$ 
Можемо приметити да за свако $d$ и $x$ важи: 
$$a_i \text{ xor } a_{i+d} = b_i \text{ xor } b_{i+1} \text{ xor } \ldots b_{i+d-1}$$

Аналогно, важи и:
$$a_{i+d} \text{ xor } a_{i+2d} = b_{i+d} \text{ xor } b_{i+d+1} \text{ xor } \ldots b_{i+2d-1}$$

Ако за $d$ узмемо периоду низа $b$, важи да су десне стране ових једначина једнаке, па важи и да су леве стране једнаке. Одатле закључујемо, да за такво $d$ и произвољно $x$ важи $a_i = a_{i+2d}$,  што нам говори да је $2d$ периода низа $a$. 

Пошто нам је познато да је периода низа $a$ баш $n$, онда имамо два случаја. Уколико је $n$ непарно, периода низа $b$ је увек $n$, у супротном, периода може бити и $\frac{N}{2}$, а ако није, онда мора бити $n$. Зато, након сваке промене, довољно је проверити да ли је у новом низу $\frac{N}{2}$ периода. 

Временска сложеност $O(NQ)$, а меморијска сложеност $O(N)$.

## Главно решење
Попут претходног решења, довољно је проверити периоду $\frac{N}{2}$, само ћемо овде то урадити на бржи начин. Пре свих промена, одрадимо проверу у $O(N)$, памтећи у колико одговарајућих парова су исти елементи. Након сваке промене, довољно је проверити само да ли се неки од два пара на које промена утиче *поправио* или *покварио*, тј. ажурирати број парова у којима су елементи исти. Кад год је број таквих парова тачно $\frac{N}{2}$, периода је $\frac{N}{2}$, у супротном, периода је $N$. 

Временска сложеност је $O(N+Q)$, а меморијска сложеност $O(N)$.

