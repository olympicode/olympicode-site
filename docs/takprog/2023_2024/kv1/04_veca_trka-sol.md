## Решење када $N=2$

У овом подзадатку, може се десити највише једно претицање. Како је $1 \leq K$, гарантује се да ће се десити тачно једно претицање. То претицање ће се десити управо у моменту $\frac{x_2-x_1}{v_1-v_2}$.


## Решење када $N \leq 2.000$

У овом подзадатку, можемо да посматрамо скуп свих претицања која ће се десити. За свако $i<j$ за које $v_i > v_j$, важи да ће $i$ претећи $j$ у моменту $\frac{x_j-x_i}{v_i-v_j}$. Потом можемо да сортирамо све ове вредности и узмемо $K$-ту најмању вредност. Временска сложеност овог решења је $O(N^2 \log N)$.

## Решење када $K = 1$

Приметимо да се прво претицање мора десити између два суседна тркача. Дакле, довољно је да за свако $1 \leq i < N$ за које $v_i > v_{i+1}$ израчунамо када ће тркач $i$ претећи тркача $i+1$. То ће се десити у моменту $\frac{x_{i+1}-x_i}{v_i - v_{i+1}}$. Треба да испишемо најранији такав моменат. Временска сложеност овог решења је $O(N)$.

## Решење када $K \leq 300.000$

Овај подзадатак захтева генерализацију претходног подзадатка. Знамо да се прво претицање мора десити између два суседна тркача. Да би решили овај подзадатак, потребно је да симулирамо првих $K$ претицања. Ово можемо постићи тако што у некој структури (рецимо `set` или `priority_queue`) чувамо моменте када ће неки тркач престићи оног који је тренутно непосредно испред њега (поред момента у којем ће се ово десити, потребно је да чувамо и позицију тркача на којег се то претицање односи). Пронаћемо најранији такав моменат у структури и заменимо редослед та два тркача. Затим убацимо претицања која ће се десити између тркача који су постали суседни након ове размене. Временска сложеност овог решења је $O(K \log N)$.

## Главно решење

Применићемо бинарну претрагу по решењу. Сада се задатак своди на следеће питање: "За дато $t$, колико претицања се десило до тренутка $t$?". Прво ћемо пронаћи позицију сваког тркача после $t$ секунди. Претпоставимо, за почетак, да су те позиције јединствене, тј. да се два различита тркача неће наћи на истој позицији после $t$ секунди. Означимо позицију тркача $i$ са $y_i$. Приметимо да је тркач $i$ претекао све оне тркаче $j>i$ за које важи $y_j < y_i$. Сортирајмо сада тркаче према њиховим новим позицијама. Означимо са $a_i$ тркача чији индекс одговара $i$-тој најмањој позицији у низу $y$. Дакле, тркач $a_i$ је претекао све тркаче $a_j$ за које важи $j<i$ и $a_j>a_i$. Тј. број претицања је једнак броју парова $j<i$ таквих да $a_j > a_i$. Ово је познато као проблем пребројавања инверзија у низу. Овај проблем најлакше можемо решити користећи се Фенвиковим стаблом (тј `bit`-ом) или сегментним стаблом. Пролазимо кроз низ с десна на лево и за дато $i$ на решење додамо број елемената у Фенвиковом стаблу који је мањи од $a_i$ и потом додамо $a_i$ у Фенвиково стабло. Алтернативно, овај проблем се може решити и симулацијом `merge sort` процедуре. 

Требало би анализирати и шта се дешава у случају да су неке позиције након $t$ секунди једнаке. То би значило да се нека претицања дешавају тачно након $t$ секунди. У овом случају ћемо, при поређењу, редослед тркача са истим позицијама одредити на основу њихових оригиналних индекса. У општем случају, тиме ћемо добити број претицања који се десио пре строго момента $t$.  Претпоставимо да се у моменту $p$ десило $K$-то претицање. Дакле, алгоритам ће за моменат $p$ вратити вредност која је мања од $K$. То значи да ћемо у бинарној претрази у наредном кораку посматрати вредности које су веће од $p$. Међутим, за свако $t>p$, алгоритам ће вратити вредност која је већа или једнака од $K$. Након неколико итерација бинарне претраге, алгоритам ће стати и исписати вредност $p + \varepsilon$, што је довољно добро, јер решење треба одредити са грешком до $10^{-4}$. 

Коначно, прокоментаришимо и саму имплементацију бинарне претраге над бројевима који нису цели. У овом случају, бинарну претрагу можемо имплементирати тако што поредимо разлику десне и леве границе, $r-l$, са неком малом вредношћу, нпр. $10^{-5}$, што је у овом случају довољно добро. У општем случају, ово може да изазове проблеме са прецизношћу и боље је унапред фиксирати број итерација бинарне претраге. На пример $50$ итерација гарантује да ће након завршетка бинарне претраге важити $r-l \leq \frac{r_0-l_0}{2^{50}}$, где су $l_0$ и $r_0$ почетне вредности леве и десне границе. 
